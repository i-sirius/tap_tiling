<!doctype html>
<html lang="uk">
<head>
  <meta charset="utf-8" />
  <title>–°–≤—ñ—Ç–ª–æ—Ç–∏—Ü—è–ª–∫–∞ (HTML+JS)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

  <style>
    :root {
      --cell: 100px;       /* —Ä–æ–∑–º—ñ—Ä –∫–ª—ñ—Ç–∏–Ω–∫–∏ */
      --panel-w: 260px;    /* —à–∏—Ä–∏–Ω–∞ –ø—Ä–∞–≤–æ—ó –ø–∞–Ω–µ–ª—ñ */
      --field-gap-bottom: 60px; /* –º—ñ—Å—Ü–µ –ø—ñ–¥ –ø–æ–ª–µ–º –¥–ª—è —Ç–µ–∫—Å—Ç—É */
      --bg: #c8c8c8;
      --panel-bg: #e6e6e6;
      --grid: #000;
      --on: #085850;   /* –±—ñ—Ä—é–∑–æ–≤–∏–π */
      --off: #ffffff;  /* –±—ñ–ª–∏–π */
      --text: #000;
      --btn-bg: #f3f3f3;
      --btn-border: #bbb;
      --btn-active: #176d64;
    }
    * { box-sizing: border-box; }
    html, body, .wrap, .panel, canvas, .toolbar, .toolbar button {
      user-select: none;
      -webkit-user-select: none;
      -webkit-touch-callout: none;
      -webkit-tap-highlight-color: transparent;
      touch-action: manipulation;
    }
    body {
      margin: 0;
      font-family: Verdana, Arial, sans-serif;
      background: var(--bg);
      color: var(--text);
    }
    .wrap {
      display: flex;
      gap: 16px;
      align-items: flex-start;
      max-width: calc( (var(--cell) * 6) + var(--panel-w) + 40px );
      margin: 20px auto;
      padding: 0 12px;
    }
    .stage { position: relative; width: fit-content; }
    .toolbar {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
      margin: 0 0 8px;
      align-items: center;
    }
    .toolbar button {
      appearance: none;
      border: 1px solid var(--btn-border);
      background: var(--btn-bg);
      padding: 10px 14px;
      border-radius: 10px;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      min-width: 80px;
      box-shadow: 0 1px 0 rgba(0,0,0,.06);
    }
    .toolbar button:active { transform: translateY(1px); }
    .toolbar button.active {
      border-color: #2aaea0;
      background: #e7fbf8;
      outline: 2px solid var(--btn-active);
    }

    canvas { display: block; background: #ddd; border: 1px solid #000; }

    .panel {
      width: var(--panel-w);
      background: var(--panel-bg);
      border: 1px solid #aaa;
      border-radius: 8px;
      padding: 12px 12px 16px;
      position: sticky;
      top: 12px;
    }
    .panel h3 { margin: 0 0 10px; font-size: 18px; }
    .row { margin: 10px 0; font-size: 18px; }
    .hint-title { margin-top: 18px; font-size: 16px; }
    .hint-line { font-size: 14px; word-break: break-word; opacity: .95; }

    .footer {
      text-align: center;
      margin-top: 8px;
      font-size: 18px;
      font-weight: 600;
      color: #fff;
      text-shadow:
        0 0 3px #000, 1px 0 #000, -1px 0 #000, 0 1px #000, 0 -1px #000;
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="stage">
      <!-- –ï–∫—Ä–∞–Ω–Ω—ñ –∫–Ω–æ–ø–∫–∏ –∑–≤–µ—Ä—Ö—É -->
      <div class="toolbar" id="toolbar">
        <button type="button" id="btnRestart" title="–†–µ—Å—Ç–∞—Ä—Ç (R)">‚ü≤ –†–µ—Å—Ç–∞—Ä—Ç</button>
        <button type="button" class="btnGrid" data-rows="3" data-cols="4" title="3√ó4 (–∫–ª–∞–≤—ñ—à–∞ 1)">3√ó4</button>
        <button type="button" class="btnGrid" data-rows="4" data-cols="4" title="4√ó4 (–∫–ª–∞–≤—ñ—à–∞ 2)">4√ó4</button>
        <button type="button" class="btnGrid" data-rows="5" data-cols="5" title="5√ó5 (–∫–ª–∞–≤—ñ—à–∞ 3)">5√ó5</button>
        <button type="button" id="btnHint" title="–í–∏–∫–æ–Ω–∞—Ç–∏ –Ω–∞—Å—Ç—É–ø–Ω–∏–π –∫—Ä–æ–∫ –ø—ñ–¥–∫–∞–∑–∫–∏">üí° –ü—ñ–¥–∫–∞–∑–∫–∞: —Ö—ñ–¥</button>
      </div>

      <!-- —à–∏—Ä–∏–Ω–∞/–≤–∏—Å–æ—Ç–∞ –∫–∞–Ω–≤–∞—Å–∞ –æ–Ω–æ–≤–ª—é—é—Ç—å—Å—è —Å–∫—Ä–∏–ø—Ç–æ–º –ø—Ä–∏ –∑–º—ñ–Ω—ñ rows/cols -->
      <canvas id="game" width="400" height="360" aria-label="–°–≤—ñ—Ç–ª–æ—Ç–∏—Ü—è–ª–∫–∞"></canvas>
    </div>

    <aside class="panel">
      <h3>–ü–∞–Ω–µ–ª—å</h3>
      <div class="row" id="shuffleInfo">–ó–∞–ø–ª—É—Ç–∞–Ω–æ –∑–∞ 0 –∫—Ä–æ–∫—ñ–≤</div>
      <div class="row" id="stepsInfo">–ö—Ä–æ–∫–∏: 0</div>
      <div class="row" id="timeInfo">–ß–∞—Å: 0 —Å</div>

      <div class="hint-title">–ü—ñ–¥–∫–∞–∑–∫–∞ (–∑–∞–ª–∏—à–∏–ª–æ—Å—å):</div>
      <div class="hint-line" id="hintLine1"></div>
      <div class="hint-line" id="hintLine2"></div>

      <hr style="margin:16px 0;">
      <div style="font-size:14px; line-height:1.35; opacity:.85">
        –ö–ª–∞–≤—ñ—à—ñ: <b>R</b> ‚Äî —Ä–µ—Å—Ç–∞—Ä—Ç, <b>1</b> ‚Äî 3√ó4, <b>2</b> ‚Äî 4√ó4, <b>3</b> ‚Äî 5√ó5. <br/>
        –ê–±–æ –∫–æ—Ä–∏—Å—Ç—É–π—Ç–µ—Å—å –∫–Ω–æ–ø–∫–∞–º–∏ –∑–≤–µ—Ä—Ö—É –ø–æ–ª—è.
      </div>
    </aside>
  </div>

  <div class="footer" id="restartFooter">–î–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ—ó –≥—Ä–∏ –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å R</div>

  <!-- ... –¥–µ—Å—å –≤–∏—â–µ: –∫–∞–Ω–≤–∞—Å, –ø–∞–Ω–µ–ª—å, –∫–Ω–æ–ø–∫–∏ ... -->

  <!-- –ø—ñ–¥–∫–ª—é—á–∞—î–º–æ –ª–æ–≥—ñ–∫—É –≥—Ä–∏ -->
  <script src="app.js"></script>

  <!-- —Ä–µ—î—Å—Ç—Ä—É—î–º–æ service worker (–¥–ª—è PWA/–æ—Ñ–ª–∞–π–Ω—É) -->
  <script>
  if ("serviceWorker" in navigator) {
    window.addEventListener("load", () => {
      navigator.serviceWorker.register("./sw.js").catch(console.error);
    });
  }
  </script>
</body>
</html>
